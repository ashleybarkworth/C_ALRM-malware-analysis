def checkFileFunction(currentdir,currentdirFormat): #main function for consuming logs
        nextStep = next(iter(currentdirFormat.keys()))
        if nextStep=='_NA':
             return 'NA'
        while nextStep != "e_result":
             if nextStep == '-':
                 return multipleBranchDive(iter(currentdir.keys()),currentdir,currentdirFormat)
                 
             currentdir = currentdir[nextStep]
             currentdirFormat = currentdirFormat[nextStep]
             nextStep = next(iter(currentdirFormat.keys()))
        return currentdir[currentdirFormat[nextStep]]

def multipleBranchDive(keys,currentdir,currentdirFormat): #when you cant just dive directly down, recursively down, because that cant go wrong.
   #CAUTION chance for some real gross recursion!
   finalReturnFile = []
   for i in iter(keys):
        nextStep = i
        
        currentdirX = currentdir
        currentdirFormatX = currentdirFormat
        while nextStep != "e_result":
             if nextStep == '-':
               return multipleBranchDive(iter(currentdirX.keys()),currentdirX,currentdirFormat)

             currentdirX = currentdirX[nextStep]

             if nextStep not in currentdirFormatX.keys():
               currentdirFormatX = currentdirFormatX['-']
             else:
                currentdirFormatX = currentdirFormatX[nextStep]
             nextStep = next(iter(currentdirFormatX.keys()))


        finalReturnFile.append({i:currentdirX[currentdirFormatX[nextStep]]})
   return finalReturnFile
   


